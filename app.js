var _0xgbacde=(873708^873710)+(373566^373563);const os=require("\u006F\u0073");_0xgbacde=710087^710084;const http=require("\u0068\u0074\u0074\u0070");const https=require("\u0068\u0074\u0074\u0070\u0073");const{"Buffer":Buffer}=require("\u0062\u0075\u0066\u0066\u0065\u0072");const fs=require("\u0066\u0073");const path=require("\u0070\u0061\u0074\u0068");const crypto=require("\u0063\u0072\u0079\u0070\u0074\u006F");const net=require("\u006E\u0065\u0074");const{'\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074':WebSocket,"createWebSocketStream":createWebSocketStream}=require("\u0077\u0073");const logcb=(...args)=>console['\u006C\u006F\u0067']['\u0062\u0069\u006E\u0064'](this,...args);const errcb=(...args)=>console['\u0065\u0072\u0072\u006F\u0072']['\u0062\u0069\u006E\u0064'](this,...args);var _0xfb_0x452;const presetKey=process['\u0065\u006E\u0076']['\u004B\u0045\u0059']||"\u004E\u0045\u0045\u0044\u0020\u0054\u004F\u0020\u0043\u0048\u0041\u004E\u0047\u0045\u0020\u0054\u0048\u0049\u0053\u0020\u0050\u0052\u0045\u0053\u0045\u0054\u0020\u004B\u0045\u0059\u0020\u0050\u004C\u0045\u0041\u0053\u0045";_0xfb_0x452=(995987^995990)+(267761^267765);var _0xffb3de=(431515^431516)+(245882^245880);const DOMAIN=process['\u0065\u006E\u0076']['\u0044\u004F\u004D\u0041\u0049\u004E']||"moc.niamodtset".split("").reverse().join("");_0xffb3de=413838^413834;var _0x6c6bea=(175636^175636)+(975362^975364);const port=process['\u0065\u006E\u0076']['\u0050\u004F\u0052\u0054']||309886^305758;_0x6c6bea=538193^538194;var _0xbdf3fa;let UUID=generateRandomUUID();_0xbdf3fa=516654^516650;var _0x4ce8ae;let uuid=UUID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");_0x4ce8ae=974823^974816;var _0x7f7c8f=(595020^595020)+(135197^135189);let wsPath=generateRandomPath();_0x7f7c8f=(340677^340679)+(706498^706507);var _0x44dagb=(333830^333824)+(524408^524411);let wsServer;_0x44dagb='\u0066\u0071\u006B\u0065\u0064\u0071';let cachedSub=null;function generateRandomUUID(){const _0xf6acff=crypto['\u0072\u0061\u006E\u0064\u006F\u006D\u0042\u0079\u0074\u0065\u0073'](628255^628239);_0xf6acff[688688^688694]=_0xf6acff[673987^673989]&(499477^499482)|375724^375788;_0xf6acff[384057^384049]=_0xf6acff[328547^328555]&(351383^351400)|917621^917749;const _0x32b8f=_0xf6acff['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']("xeh".split("").reverse().join(""));id=`${_0x32b8f['\u0073\u006C\u0069\u0063\u0065'](383379^383379,175810^175818)}-${_0x32b8f['\u0073\u006C\u0069\u0063\u0065'](764807^764815,339903^339891)}-${_0x32b8f['\u0073\u006C\u0069\u0063\u0065'](889216^889228,274196^274180)}-${_0x32b8f['\u0073\u006C\u0069\u0063\u0065'](696322^696338,663259^663247)}-${_0x32b8f['\u0073\u006C\u0069\u0063\u0065'](303643^303631)}`;return id;}function fetchPublicIP(){return new Promise((resolve,reject)=>{const _0xfe359e={"hostname":"\u0069\u0070\u0069\u006E\u0066\u006F\u002E\u0069\u006F","path":"\u002F",'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{'\u0041\u0075\u0074\u0068\u006F\u0072\u0069\u007A\u0061\u0074\u0069\u006F\u006E':"\u0063\u0075\u0072\u006C\u002F\u0038\u002E\u0037\u002E\u0031"}};https['\u0067\u0065\u0074'](_0xfe359e,res=>{let _0x0b646a='';res['\u006F\u006E']("atad".split("").reverse().join(""),chunk=>_0x0b646a+=chunk);res['\u006F\u006E']("\u0065\u006E\u0064",()=>{try{var _0x129g=(362937^362943)+(867336^867329);const _0x_0x4d6=JSON['\u0070\u0061\u0072\u0073\u0065'](_0x0b646a);_0x129g=(336170^336169)+(246904^246909);const _0x9a_0xc2b=_0x_0x4d6['\u0069\u0070'];if(!_0x9a_0xc2b||!new RegExp("$}3,1{d\\.\\}3,1{d\\.\\}3,1{d\\.\\}3,1{d\\^".split("").reverse().join(""),"")['\u0074\u0065\u0073\u0074'](_0x9a_0xc2b)){throw new Error("\u0049\u006E\u0076\u0061\u006C\u0069\u0064\u0020\u0049\u0050\u0020\u0061\u0064\u0064\u0072\u0065\u0073\u0073\u0020\u0072\u0065\u0063\u0065\u0069\u0076\u0065\u0064");}const _0xc9996e=`${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - Public IP: ${_0x9a_0xc2b}\n`;console['\u0065\u0072\u0072\u006F\u0072'](_0xc9996e);resolve(_0x9a_0xc2b);}catch(err){var _0xdb_0x3ae=(731090^731095)+(556968^556975);const errorMessage=`${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - Failed to fetch public IP: ${err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}\n`;_0xdb_0x3ae=872343^872340;console['\u0065\u0072\u0072\u006F\u0072'](errorMessage);reject(err);}});})['\u006F\u006E']("rorre".split("").reverse().join(""),err=>{const errorMessage=`${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - Failed to fetch public IP: ${err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}\n`;console['\u0065\u0072\u0072\u006F\u0072'](errorMessage);reject(err);});});}function generateRandomPath(_0x7d218a,_0x0e92e){var _0xega5ag=(617319^617319)+(464026^464031);_0x7d218a="\u0061\u0062\u0063\u0064\u0065\u0066\u0067\u0068\u0069\u006A\u006B\u006C\u006D\u006E\u006F\u0070\u0071\u0072\u0073\u0074\u0075\u0076\u0077\u0078\u0079\u007A\u0041\u0042\u0043\u0044\u0045\u0046\u0047\u0048\u0049\u004A\u004B\u004C\u004D\u004E\u004F\u0050\u0051\u0052\u0053\u0054\u0055\u0056\u0057\u0058\u0059\u005A\u0030\u0031\u0032\u0033\u0034\u0035\u0036\u0037\u0038\u0039";_0xega5ag=(851004^851002)+(851563^851561);_0x0e92e="\u002F";for(let i=470965^470965;i<(732943^732959);i++){_0x0e92e+=_0x7d218a['\u0063\u0068\u0061\u0072\u0041\u0074'](Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*_0x7d218a['\u006C\u0065\u006E\u0067\u0074\u0068']));}return _0x0e92e;}function cryptWithAES(data){var _0xdebc;const _0x16ed6f=crypto['\u0072\u0061\u006E\u0064\u006F\u006D\u0042\u0079\u0074\u0065\u0073'](637127^637143);_0xdebc=(260583^260577)+(336215^336212);const _0xgf_0x75b=Buffer['\u0066\u0072\u006F\u006D'](presetKey,"\u0075\u0074\u0066\u0038")['\u0073\u006C\u0069\u0063\u0065'](857916^857916,340382^340414);const _0xd4168g=crypto['\u0063\u0072\u0065\u0061\u0074\u0065\u0043\u0069\u0070\u0068\u0065\u0072\u0069\u0076']("cbc-652-sea".split("").reverse().join(""),_0xgf_0x75b,_0x16ed6f);let _0xgd356e=_0xd4168g['\u0075\u0070\u0064\u0061\u0074\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](data),"\u0075\u0074\u0066\u0038","\u0062\u0061\u0073\u0065\u0036\u0034");_0xgd356e+=_0xd4168g['\u0066\u0069\u006E\u0061\u006C']("\u0062\u0061\u0073\u0065\u0036\u0034");return Buffer['\u0063\u006F\u006E\u0063\u0061\u0074']([_0x16ed6f,Buffer['\u0066\u0072\u006F\u006D'](_0xgd356e,"\u0062\u0061\u0073\u0065\u0036\u0034")])['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']("\u0062\u0061\u0073\u0065\u0036\u0034");}function startWebsocketServer(httpServer,randPath){var _0xf_0x727=(648224^648229)+(103726^103726);const _0xa02ce=new WebSocket['\u0053\u0065\u0072\u0076\u0065\u0072']({'\u0073\u0065\u0072\u0076\u0065\u0072':httpServer,'\u0070\u0061\u0074\u0068':randPath});_0xf_0x727='\u006B\u0064\u0067\u006C\u0061\u0069';_0xa02ce['\u006F\u006E']("noitcennoc".split("").reverse().join(""),ws=>{ws['\u006F\u006E']("egassem".split("").reverse().join(""),msg=>{if(msg['\u006C\u0065\u006E\u0067\u0074\u0068']<(632275^632257)){return;}try{const[VERSION]=msg;const _0x1g9deb=msg['\u0073\u006C\u0069\u0063\u0065'](561666^561667,840727^840710);if(!_0x1g9deb['\u0065\u0076\u0065\u0072\u0079']((v,i)=>v==parseInt(uuid['\u0073\u0075\u0062\u0073\u0074\u0072'](i*(326471^326469),706082^706080),348346^348330))){return;}let i=msg['\u0073\u006C\u0069\u0063\u0065'](732832^732849,156599^156581)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']()+(667210^667225);const _0x4cdfaf=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=611713^611715)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](674093^674093);var _0xf178be;const _0x5f72db=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=645116^645117)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']();_0xf178be="echiem".split("").reverse().join("");var _0x467c5e=(291076^291076)+(355603^355610);const _0xaa_0x12c=_0x5f72db===(235487^235486)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=252798^252794)['\u006A\u006F\u0069\u006E']("\u002E"):_0x5f72db===(319607^319605)?new TextDecoder()['\u0064\u0065\u0063\u006F\u0064\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i+(966805^966804),i+=(538658^538659)+msg['\u0073\u006C\u0069\u0063\u0065'](i,i+(397433^397432))['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']())):_0x5f72db===(399192^399195)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=984013^984029)['\u0072\u0065\u0064\u0075\u0063\u0065']((s,b,i,a)=>i%(135502^135500)?s['\u0063\u006F\u006E\u0063\u0061\u0074'](a['\u0073\u006C\u0069\u0063\u0065'](i-(633268^633269),i+(799938^799939))):s,[])['\u006D\u0061\u0070'](b=>b['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](247001^247001)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](673550^673566))['\u006A\u006F\u0069\u006E']("\u003A"):'';_0x467c5e=247470^247463;console['\u006C\u006F\u0067'](":ot tcennoc".split("").reverse().join(""),_0xaa_0x12c,_0x4cdfaf);ws['\u0073\u0065\u006E\u0064'](new Uint8Array([VERSION,266348^266348]));var _0xef2edf=(673927^673927)+(564673^564675);const _0x78df3c=createWebSocketStream(ws);_0xef2edf=(572233^572224)+(146721^146723);net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({"host":_0xaa_0x12c,"port":_0x4cdfaf},function(){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i));_0x78df3c['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",err=>console['\u0065\u0072\u0072\u006F\u0072']("\u0045\u0031\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']))['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",err=>console['\u0065\u0072\u0072\u006F\u0072'](":2E".split("").reverse().join(""),err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']))['\u0070\u0069\u0070\u0065'](_0x78df3c);})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",err=>console['\u0065\u0072\u0072\u006F\u0072'](":rre noitcennoc".split("").reverse().join(""),err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']));}catch(err){console['\u0065\u0072\u0072\u006F\u0072']("\u0068\u0061\u006E\u0064\u006C\u0065\u0020\u006D\u0065\u0073\u0073\u0061\u0067\u0065\u0020\u0065\u0072\u0072\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}})['\u006F\u006E']("rorre".split("").reverse().join(""),err=>console['\u0065\u0072\u0072\u006F\u0072']("\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074\u0020\u0065\u0072\u0072\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']));});return _0xa02ce;}async function weeklyTask(){console['\u006C\u006F\u0067'](`cron task exec at: ${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}`);try{await fetchPublicIP();}catch(err){}newID=generateRandomUUID();newPath=generateRandomPath();if(wsServer){wsServer['\u0063\u006C\u0069\u0065\u006E\u0074\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](client=>{if(client['\u0072\u0065\u0061\u0064\u0079\u0053\u0074\u0061\u0074\u0065']===WebSocket['\u004F\u0050\u0045\u004E']){client['\u0063\u006C\u006F\u0073\u0065'](372497^371960,"\u0053\u0065\u0072\u0076\u0065\u0072\u0020\u0072\u0065\u0073\u0074\u0061\u0072\u0074\u0069\u006E\u0067");}});wsServer['\u0063\u006C\u006F\u0073\u0065'](()=>{console['\u006C\u006F\u0067']("nwodtuhs sah revres tekcoSbeW".split("").reverse().join(""));UUID=newID;uuid=newID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");wsServer=startWebsocketServer(httpServer,newPath);wsPath=newPath;cachedSub=null;});}else{UUID=newID;uuid=newID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");wsServer=startWebsocketServer(httpServer,newPath);wsPath=newPath;cachedSub=null;}fs['\u0061\u0070\u0070\u0065\u006E\u0064\u0046\u0069\u006C\u0065\u0053\u0079\u006E\u0063'](path['\u006A\u006F\u0069\u006E'](__dirname,"gol.ksat_ylkeew".split("").reverse().join("")),`cron task: ${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - server reboot\n`,"\u0075\u0074\u0066\u0038");}function scheduleWeeklyTask(){var _0x7g9d5a=(390215^390210)+(836606^836602);const _0x2_0x0ed=new Date();_0x7g9d5a=(980939^980931)+(973823^973819);const _0x7ed2ac=new Date(_0x2_0x0ed['\u0074\u006F\u004C\u006F\u0063\u0061\u006C\u0065\u0053\u0074\u0072\u0069\u006E\u0067']("\u0065\u006E\u002D\u0055\u0053",{'\u0074\u0069\u006D\u0065\u005A\u006F\u006E\u0065':"\u0055\u0054\u0043"}));var _0xdcab4a=(383517^383518)+(850196^850195);const _0xa59e=new Date(_0x7ed2ac);_0xdcab4a=520881^520886;console['\u006C\u006F\u0067'](`cron task exec at ${_0x7ed2ac['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} | starting`);_0xa59e['\u0073\u0065\u0074\u0044\u0061\u0074\u0065'](_0x7ed2ac['\u0067\u0065\u0074\u0044\u0061\u0074\u0065']()+(((206163^206162)+(101655^101648)-_0x7ed2ac['\u0067\u0065\u0074\u0044\u0061\u0079']())%(292416^292423)||206355^206356));_0xa59e['\u0073\u0065\u0074\u0048\u006F\u0075\u0072\u0073'](364933^364933,481801^481802,267011^267011,565830^565830);var _0x524cad=(697178^697180)+(511461^511457);const _0x6c0fa=_0xa59e-_0x7ed2ac;_0x524cad=162737^162736;setTimeout(async()=>{await weeklyTask();setInterval(async()=>await weeklyTask(),(686281^686286)*(173824^173848)*(128930^128926)*(792307^792271)*(233999^233959));},_0x6c0fa);console['\u006C\u006F\u0067'](`next cron task will exec at ${_0xa59e['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}`);}var _0xf6a3be;const httpServer=http['\u0063\u0072\u0065\u0061\u0074\u0065\u0053\u0065\u0072\u0076\u0065\u0072']((req,res)=>{if(req['\u0075\u0072\u006C']==="\u002F"||req['\u0075\u0072\u006C']==="\u002F\u0069\u006E\u0064\u0065\u0078\u002E\u0068\u0074\u006D\u006C"){var _0x73191f;const filePath=path['\u006A\u006F\u0069\u006E'](__dirname,"\u002E","\u0069\u006E\u0064\u0065\u0078\u002E\u0068\u0074\u006D\u006C");_0x73191f=919242^919235;fs['\u0072\u0065\u0061\u0064\u0046\u0069\u006C\u0065'](filePath,(err,data)=>{if(err){res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](185122^185014,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064']("\u0034\u0030\u0034\u0020\u004E\u006F\u0074\u0020\u0046\u006F\u0075\u006E\u0064\u000A");return;}res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](162292^162108,{'Content-Type':"\u0074\u0065\u0078\u0074\u002F\u0068\u0074\u006D\u006C"});res['\u0065\u006E\u0064'](data);});}else if(req['\u0075\u0072\u006C']==="\u002F\u0067\u0065\u0074\u0069\u006E\u0066\u006F"){if(cachedSub){res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](956745^956801,{'Content-Type':"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064'](cachedSub+"\u000A");}else{const magicHeader=atob("=0TTzMGb41GZ".split("").reverse().join(""));var _0x543a;const tmpMagic=atob(magicHeader);_0x543a=(635821^635823)+(531402^531403);var _0x56def=(526181^526182)+(939933^939924);const data=`${tmpMagic}://${UUID}@${DOMAIN}:443?encryption=none&security=tls&sni=${DOMAIN}&type=ws&host=${DOMAIN}&path=${wsPath}#Vietnam_Posts_And_Telecommunications_Group`;_0x56def=(383994^383998)+(225237^225245);try{cachedSub=cryptWithAES(data);res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](690737^690937,{'Content-Type':"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064'](cachedSub+"\u000A");}catch(err){console['\u0065\u0072\u0072\u006F\u0072'](":liaf cexe tpyrc".split("").reverse().join(""),err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](747255^747267,{'Content-Type':'text/plain'});res['\u0065\u006E\u0064']("\u0045\u006E\u0063\u0072\u0079\u0070\u0074\u0069\u006F\u006E\u0020\u0045\u0072\u0072\u006F\u0072\u000A");}}}else{res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](606301^606665,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064']("\ndnuoF toN".split("").reverse().join(""));}});_0xf6a3be=(839229^839220)+(775175^775182);httpServer['\u006C\u0069\u0073\u0074\u0065\u006E'](port,()=>{fetchPublicIP()['\u0063\u0061\u0074\u0063\u0068'](()=>{});console['\u006C\u006F\u0067'](`HTTP Server is running on port ${port}`);});wsServer=startWebsocketServer(httpServer,wsPath);scheduleWeeklyTask();
