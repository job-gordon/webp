var _0x13ba=(261675^261679)+(136384^136389);const os=require("\u006F\u0073");_0x13ba=(597833^597834)+(122340^122337);const http=require("\u0068\u0074\u0074\u0070");var _0x6081f=(401615^401609)+(634741^634740);const https=require("\u0068\u0074\u0074\u0070\u0073");_0x6081f=(921847^921845)+(728051^728049);const{"Buffer":Buffer}=require("\u0062\u0075\u0066\u0066\u0065\u0072");const fs=require("\u0066\u0073");const path=require("\u0070\u0061\u0074\u0068");var _0xfc6ea=(357134^357128)+(540072^540073);const crypto=require("\u0063\u0072\u0079\u0070\u0074\u006F");_0xfc6ea=554423^554421;const net=require("\u006E\u0065\u0074");const{"WebSocket":WebSocket,'\u0063\u0072\u0065\u0061\u0074\u0065\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074\u0053\u0074\u0072\u0065\u0061\u006D':createWebSocketStream}=require("\u0077\u0073");var _0x8g92a=(951881^951873)+(346247^346254);const logcb=(...args)=>console['\u006C\u006F\u0067']['\u0062\u0069\u006E\u0064'](this,...args);_0x8g92a=506978^506987;const errcb=(...args)=>console['\u0065\u0072\u0072\u006F\u0072']['\u0062\u0069\u006E\u0064'](this,...args);var _0x7fb91e;const presetKey=process['\u0065\u006E\u0076']['\u004B\u0045\u0059']||"\u0050\u004C\u0045\u0041\u0053\u0045\u0020\u0052\u0045\u0050\u004C\u0041\u0043\u0045\u0020\u0059\u004F\u0055\u0052\u0020\u004B\u0045\u0059\u0020\u0057\u0049\u0054\u0048\u0020\u0054\u0048\u0049\u0053";_0x7fb91e=(874707^874710)+(661866^661858);var _0x4bb55b;const DOMAIN=process['\u0065\u006E\u0076']['\u0044\u004F\u004D\u0041\u0049\u004E']||"moc.niamodtset".split("").reverse().join("");_0x4bb55b=(662564^662560)+(670276^670276);var _0x286e0c;const port=process['\u0065\u006E\u0076']['\u0050\u004F\u0052\u0054']||102162^106290;_0x286e0c=(463943^463936)+(767278^767278);var _0x2452a=(248749^248744)+(729893^729895);let UUID=generateRandomUUID();_0x2452a=824995^825002;var _0xbc63c=(848471^848465)+(821135^821129);let uuid=UUID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");_0xbc63c="dqlgpp".split("").reverse().join("");let wsPath=generateRandomPath();var _0x1beb=(604658^604659)+(471971^471975);let wsServer;_0x1beb=(556368^556375)+(529012^529013);var _0x3704fb;let cachedSub=null;_0x3704fb=895720^895713;function generateRandomUUID(){const _0xdac8ag=crypto['\u0072\u0061\u006E\u0064\u006F\u006D\u0042\u0079\u0074\u0065\u0073'](560995^561011);_0xdac8ag[635253^635251]=_0xdac8ag[499662^499656]&(508041^508038)|497981^498045;_0xdac8ag[448808^448800]=_0xdac8ag[876344^876336]&(779321^779270)|311599^311727;var _0x7ac;const _0xeebcdb=_0xdac8ag['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']("\u0068\u0065\u0078");_0x7ac="lekjef".split("").reverse().join("");const _0x0c_0x7c1=`${_0xeebcdb['\u0073\u006C\u0069\u0063\u0065'](268971^268971,985089^985097)}-${_0xeebcdb['\u0073\u006C\u0069\u0063\u0065'](762054^762062,674059^674055)}-${_0xeebcdb['\u0073\u006C\u0069\u0063\u0065'](366726^366730,649762^649778)}-${_0xeebcdb['\u0073\u006C\u0069\u0063\u0065'](509581^509597,840776^840796)}-${_0xeebcdb['\u0073\u006C\u0069\u0063\u0065'](860339^860327)}`;return _0x0c_0x7c1;}function fetchPublicIP(){return new Promise((resolve,reject)=>{const _0x12a22c={"hostname":"\u0069\u0070\u0069\u006E\u0066\u006F\u002E\u0069\u006F",'\u0070\u0061\u0074\u0068':"\u002F","headers":{'\u0041\u0075\u0074\u0068\u006F\u0072\u0069\u007A\u0061\u0074\u0069\u006F\u006E':"\u0063\u0075\u0072\u006C\u002F\u0038\u002E\u0037\u002E\u0031"}};https['\u0067\u0065\u0074'](_0x12a22c,res=>{var _0x93fb=(407906^407910)+(456161^456166);let _0x8d55f='';_0x93fb=(352051^352049)+(668260^668257);res['\u006F\u006E']("atad".split("").reverse().join(""),chunk=>_0x8d55f+=chunk);res['\u006F\u006E']("\u0065\u006E\u0064",()=>{try{var _0xd098dd=(798160^798167)+(816694^816692);const _0xfaf7cf=JSON['\u0070\u0061\u0072\u0073\u0065'](_0x8d55f);_0xd098dd=744563^744565;var _0x5e_0x5gb=(320901^320903)+(715987^715987);const _0x0de5a=_0xfaf7cf['\u0069\u0070'];_0x5e_0x5gb=336661^336661;if(!_0x0de5a||!new RegExp('\u005E\u005C\u0064\u007B\u0031\u002C\u0033\u007D\u005C\u002E\u005C\u0064\u007B\u0031\u002C\u0033\u007D\u005C\u002E\u005C\u0064\u007B\u0031\u002C\u0033\u007D\u005C\u002E\u005C\u0064\u007B\u0031\u002C\u0033\u007D\u0024',"")['\u0074\u0065\u0073\u0074'](_0x0de5a)){throw new Error("deviecer sserdda PI dilavnI".split("").reverse().join(""));}const _0x1cf=`${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - IP: ${_0x0de5a} Path: ${wsPath} ID:${UUID}\n`;console['\u0065\u0072\u0072\u006F\u0072'](_0x1cf);resolve(_0x0de5a);}catch(err){const errorMessage=`${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - Failed to fetch public IP: ${err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}\n`;console['\u0065\u0072\u0072\u006F\u0072'](errorMessage);reject(err);}});})['\u006F\u006E']("rorre".split("").reverse().join(""),err=>{const errorMessage=`${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - Failed to fetch public IP: ${err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}\n`;console['\u0065\u0072\u0072\u006F\u0072'](errorMessage);reject(err);});});}function generateRandomPath(_0x37c0e,_0xd4ag2f){var _0x2a318d=(605630^605625)+(652952^652953);_0x37c0e="\u0061\u0062\u0063\u0064\u0065\u0066\u0067\u0068\u0069\u006A\u006B\u006C\u006D\u006E\u006F\u0070\u0071\u0072\u0073\u0074\u0075\u0076\u0077\u0078\u0079\u007A\u0041\u0042\u0043\u0044\u0045\u0046\u0047\u0048\u0049\u004A\u004B\u004C\u004D\u004E\u004F\u0050\u0051\u0052\u0053\u0054\u0055\u0056\u0057\u0058\u0059\u005A\u0030\u0031\u0032\u0033\u0034\u0035\u0036\u0037\u0038\u0039";_0x2a318d=(424606^424606)+(232873^232864);_0xd4ag2f="\u002F";for(let i=902572^902572;i<(260207^260223);i++){_0xd4ag2f+=_0x37c0e['\u0063\u0068\u0061\u0072\u0041\u0074'](Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*_0x37c0e['\u006C\u0065\u006E\u0067\u0074\u0068']));}return _0xd4ag2f;}function cryptWithAES(data){var _0x_0x7ge=(902498^902498)+(617631^617628);const _0x9d0fb=crypto['\u0072\u0061\u006E\u0064\u006F\u006D\u0042\u0079\u0074\u0065\u0073'](140794^140778);_0x_0x7ge=(307872^307873)+(983611^983612);const _0x816a8a=Buffer['\u0066\u0072\u006F\u006D'](presetKey,"8ftu".split("").reverse().join(""))['\u0073\u006C\u0069\u0063\u0065'](702302^702302,759079^759047);const _0x4_0x9bg=crypto['\u0063\u0072\u0065\u0061\u0074\u0065\u0043\u0069\u0070\u0068\u0065\u0072\u0069\u0076']("\u0061\u0065\u0073\u002D\u0032\u0035\u0036\u002D\u0063\u0062\u0063",_0x816a8a,_0x9d0fb);var _0xd61ede;let _0xf6a7ag=_0x4_0x9bg['\u0075\u0070\u0064\u0061\u0074\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](data),"8ftu".split("").reverse().join(""),"\u0062\u0061\u0073\u0065\u0036\u0034");_0xd61ede="liqpdg".split("").reverse().join("");_0xf6a7ag+=_0x4_0x9bg['\u0066\u0069\u006E\u0061\u006C']("\u0062\u0061\u0073\u0065\u0036\u0034");return Buffer['\u0063\u006F\u006E\u0063\u0061\u0074']([_0x9d0fb,Buffer['\u0066\u0072\u006F\u006D'](_0xf6a7ag,"\u0062\u0061\u0073\u0065\u0036\u0034")])['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']("46esab".split("").reverse().join(""));}function startWebsocketServer(httpServer,randPath){var _0x715bb;const _0xcd51f=new WebSocket['\u0053\u0065\u0072\u0076\u0065\u0072']({'\u0073\u0065\u0072\u0076\u0065\u0072':httpServer,'\u0070\u0061\u0074\u0068':randPath});_0x715bb=(294602^294602)+(205863^205857);_0xcd51f['\u006F\u006E']("noitcennoc".split("").reverse().join(""),ws=>{ws['\u006F\u006E']("\u006D\u0065\u0073\u0073\u0061\u0067\u0065",msg=>{if(msg['\u006C\u0065\u006E\u0067\u0074\u0068']<(465844^465830)){return;}try{const[VERSION]=msg;const _0x81b2ac=msg['\u0073\u006C\u0069\u0063\u0065'](473820^473821,727206^727223);if(!_0x81b2ac['\u0065\u0076\u0065\u0072\u0079']((v,i)=>v==parseInt(uuid['\u0073\u0075\u0062\u0073\u0074\u0072'](i*(138677^138679),185158^185156),781858^781874))){return;}var _0xb722cf=(546223^546222)+(105709^105710);let i=msg['\u0073\u006C\u0069\u0063\u0065'](595938^595955,268710^268724)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']()+(215400^215419);_0xb722cf=172858^172863;var _0x8f77ge=(205847^205843)+(137152^137160);const _0xde4gbg=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=846236^846238)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](644524^644524);_0x8f77ge=(180678^180674)+(143413^143420);const _0xd37d=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=416260^416261)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']();const _0x6d8c=_0xd37d===(660900^660901)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=384729^384733)['\u006A\u006F\u0069\u006E']("\u002E"):_0xd37d===(493603^493601)?new TextDecoder()['\u0064\u0065\u0063\u006F\u0064\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i+(145649^145648),i+=(638623^638622)+msg['\u0073\u006C\u0069\u0063\u0065'](i,i+(504319^504318))['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']())):_0xd37d===(370104^370107)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=468689^468673)['\u0072\u0065\u0064\u0075\u0063\u0065']((s,b,i,a)=>i%(663684^663686)?s['\u0063\u006F\u006E\u0063\u0061\u0074'](a['\u0073\u006C\u0069\u0063\u0065'](i-(188773^188772),i+(801352^801353))):s,[])['\u006D\u0061\u0070'](b=>b['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](308462^308462)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](463647^463631))['\u006A\u006F\u0069\u006E']("\u003A"):'';console['\u006C\u006F\u0067'](":ot tcennoc".split("").reverse().join(""),_0x6d8c,_0xde4gbg);ws['\u0073\u0065\u006E\u0064'](new Uint8Array([VERSION,508059^508059]));const _0xb5c30c=createWebSocketStream(ws);net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({"host":_0x6d8c,'\u0070\u006F\u0072\u0074':_0xde4gbg},function(){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i));_0xb5c30c['\u006F\u006E']("rorre".split("").reverse().join(""),err=>console['\u0065\u0072\u0072\u006F\u0072'](":1E".split("").reverse().join(""),err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']))['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("rorre".split("").reverse().join(""),err=>console['\u0065\u0072\u0072\u006F\u0072']("\u0045\u0032\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']))['\u0070\u0069\u0070\u0065'](_0xb5c30c);})['\u006F\u006E']("rorre".split("").reverse().join(""),err=>console['\u0065\u0072\u0072\u006F\u0072'](":rre noitcennoc".split("").reverse().join(""),err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']));}catch(err){console['\u0065\u0072\u0072\u006F\u0072'](":rre egassem eldnah".split("").reverse().join(""),err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}})['\u006F\u006E']("rorre".split("").reverse().join(""),err=>console['\u0065\u0072\u0072\u006F\u0072']("\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074\u0020\u0065\u0072\u0072\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']));});return _0xcd51f;}async function weeklyTask(){console['\u006C\u006F\u0067'](`cron task exec at: ${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}`);newID=generateRandomUUID();newPath=generateRandomPath();if(wsServer){wsServer['\u0063\u006C\u0069\u0065\u006E\u0074\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](client=>{if(client['\u0072\u0065\u0061\u0064\u0079\u0053\u0074\u0061\u0074\u0065']===WebSocket['\u004F\u0050\u0045\u004E']){client['\u0063\u006C\u006F\u0073\u0065'](965524^964733,"gnitratser revreS".split("").reverse().join(""));}});wsServer['\u0063\u006C\u006F\u0073\u0065'](()=>{console['\u006C\u006F\u0067']("\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074\u0020\u0073\u0065\u0072\u0076\u0065\u0072\u0020\u0068\u0061\u0073\u0020\u0073\u0068\u0075\u0074\u0064\u006F\u0077\u006E");UUID=newID;uuid=newID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");wsServer=startWebsocketServer(httpServer,newPath);wsPath=newPath;getCfg();});}else{UUID=newID;uuid=newID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");wsServer=startWebsocketServer(httpServer,newPath);wsPath=newPath;getCfg();}try{await fetchPublicIP();}catch(err){}console['\u0065\u0072\u0072\u006F\u0072'](`cron task: ${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - server reboot\n`);}function scheduleWeeklyTask(){var _0x2_0xe72;const _0xedd=new Date();_0x2_0xe72=(113003^112994)+(952011^952015);const _0xa59f=new Date(_0xedd['\u0074\u006F\u004C\u006F\u0063\u0061\u006C\u0065\u0053\u0074\u0072\u0069\u006E\u0067']("SU-ne".split("").reverse().join(""),{'\u0074\u0069\u006D\u0065\u005A\u006F\u006E\u0065':'UTC'}));const _0x2f94c=new Date(_0xa59f);console['\u006C\u006F\u0067'](`cron task exec at ${_0xa59f['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} | starting`);_0x2f94c['\u0073\u0065\u0074\u0044\u0061\u0074\u0065'](_0xa59f['\u0067\u0065\u0074\u0044\u0061\u0074\u0065']()+(((177480^177481)+(575930^575933)-_0xa59f['\u0067\u0065\u0074\u0044\u0061\u0079']())%(463569^463574)||721946^721949));var _0x7be66e;const _0xe_0xbd5=Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*(674892^674886);_0x7be66e=(218786^218791)+(131358^131356);_0x2f94c['\u0073\u0065\u0074\u0048\u006F\u0075\u0072\u0073'](373439^373439,410309^410310,_0xe_0xbd5,518311^518311);const _0xedc15e=_0x2f94c-_0xa59f;setTimeout(async()=>{await weeklyTask();setInterval(async()=>await weeklyTask(),(959621^959618)*(714581^714573)*(399606^399562)*(153631^153635)*(300356^300716));},_0xedc15e);console['\u006C\u006F\u0067'](`next cron task will exec at ${_0x2f94c['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}`);}function getCfg(){var _0x1bb7f=(972841^972832)+(709069^709065);const _0xe15c=atob("\u005A\u0047\u0031\u0034\u0062\u0047\u004D\u007A\u0054\u0054\u0030\u003D");_0x1bb7f=(611657^611648)+(432446^432444);var _0x4cb62d=(174951^174949)+(849959^849966);const _0x9d44d=atob(_0xe15c);_0x4cb62d="ammibb".split("").reverse().join("");var _0x3_0x9a9=(109017^109008)+(103306^103307);const _0x7_0x295=`${_0x9d44d}://${UUID}@${DOMAIN}:443?encryption=none&security=tls&sni=${DOMAIN}&type=ws&host=${DOMAIN}&path=${wsPath}#REPLACEYOURDOMAIN`;_0x3_0x9a9=390110^390103;try{cachedSub=cryptWithAES(_0x7_0x295);}catch(err){console['\u0065\u0072\u0072\u006F\u0072'](":liaf cexe tpyrc".split("").reverse().join(""),err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);cachedSub=null;}}const httpServer=http['\u0063\u0072\u0065\u0061\u0074\u0065\u0053\u0065\u0072\u0076\u0065\u0072']((req,res)=>{if(req['\u0075\u0072\u006C']==="\u002F"||req['\u0075\u0072\u006C']==="lmth.xedni/".split("").reverse().join("")){const filePath=path['\u006A\u006F\u0069\u006E'](__dirname,"\u002E","lmth.xedni".split("").reverse().join(""));fs['\u0072\u0065\u0061\u0064\u0046\u0069\u006C\u0065'](filePath,(err,data)=>{if(err){res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](772740^772880,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064']("\u0034\u0030\u0034\u0020\u004E\u006F\u0074\u0020\u0046\u006F\u0075\u006E\u0064\u000A");return;}res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](702114^702058,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":'text/html'});res['\u0065\u006E\u0064'](data);});}else if(req['\u0075\u0072\u006C']==="ofniteg/".split("").reverse().join("")){if(cachedSub){res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](772782^772710,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064'](cachedSub+"\u000A");}else{try{getCfg();res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](110854^111054,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":'text/plain'});res['\u0065\u006E\u0064'](cachedSub+"\u000A");}catch(err){console['\u0065\u0072\u0072\u006F\u0072']("\u0063\u0072\u0079\u0070\u0074\u0020\u0065\u0078\u0065\u0063\u0020\u0066\u0061\u0069\u006C\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](700649^700701,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":'text/plain'});res['\u0065\u006E\u0064']("\u0045\u006E\u0063\u0072\u0079\u0070\u0074\u0069\u006F\u006E\u0020\u0045\u0072\u0072\u006F\u0072\u000A");}}}else{res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](460623^460507,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064']("\u004E\u006F\u0074\u0020\u0046\u006F\u0075\u006E\u0064\u000A");}});httpServer['\u006C\u0069\u0073\u0074\u0065\u006E'](port,()=>{getCfg();fetchPublicIP()['\u0063\u0061\u0074\u0063\u0068'](()=>{});console['\u006C\u006F\u0067'](`HTTP Server is running on port ${port}`);});wsServer=startWebsocketServer(httpServer,wsPath);scheduleWeeklyTask();
