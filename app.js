var _0x8g24ee;const os=require("\u006F\u0073");_0x8g24ee=(895215^895210)+(602228^602226);const http=require("\u0068\u0074\u0074\u0070");var _0x4a240c=(763679^763677)+(924767^924763);const https=require("\u0068\u0074\u0074\u0070\u0073");_0x4a240c=(429350^429346)+(581467^581469);const{"Buffer":Buffer}=require("\u0062\u0075\u0066\u0066\u0065\u0072");var _0x2gf0g=(842517^842518)+(378184^378191);const fs=require("\u0066\u0073");_0x2gf0g=(329226^329231)+(254298^254301);var _0x46e1a;const path=require("\u0070\u0061\u0074\u0068");_0x46e1a=(566921^566925)+(772420^772428);const crypto=require("\u0063\u0072\u0079\u0070\u0074\u006F");var _0xa_0x152=(457572^457580)+(971387^971386);const net=require("\u006E\u0065\u0074");_0xa_0x152='\u0066\u0062\u0067\u006C\u0067\u0067';const{'\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074':WebSocket,"createWebSocketStream":createWebSocketStream}=require("\u0077\u0073");var _0x57b=(159675^159673)+(807327^807324);const logcb=(...args)=>console['\u006C\u006F\u0067']['\u0062\u0069\u006E\u0064'](this,...args);_0x57b=(251941^251939)+(893407^893402);const errcb=(...args)=>console['\u0065\u0072\u0072\u006F\u0072']['\u0062\u0069\u006E\u0064'](this,...args);const presetKey=process['\u0065\u006E\u0076']['\u004B\u0045\u0059']||"SIHT HTIW YEK RUOY ECALPER ESAELP".split("").reverse().join("");const DOMAIN=process['\u0065\u006E\u0076']['\u0044\u004F\u004D\u0041\u0049\u004E']||"moc.niamodtset".split("").reverse().join("");const port=process['\u0065\u006E\u0076']['\u0050\u004F\u0052\u0054']||664193^668321;let UUID=generateRandomUUID();let uuid=UUID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");let wsPath=generateRandomPath();var _0x74ac=(172797^172796)+(519422^519422);let wsServer;_0x74ac=(863348^863349)+(955206^955215);var _0x_0xafc;let cachedSub=null;_0x_0xafc="cdelcl".split("").reverse().join("");function generateRandomUUID(){var _0x238b=(970783^970782)+(924015^924013);const _0x8ca44d=crypto['\u0072\u0061\u006E\u0064\u006F\u006D\u0042\u0079\u0074\u0065\u0073'](274562^274578);_0x238b=(930260^930268)+(490441^490446);_0x8ca44d[633129^633135]=_0x8ca44d[119764^119762]&(340407^340408)|265739^265803;_0x8ca44d[976645^976653]=_0x8ca44d[893071^893063]&(678381^678354)|979760^979888;var _0xd6a2bb;const _0x2e53ec=_0x8ca44d['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']("\u0068\u0065\u0078");_0xd6a2bb='\u006A\u0065\u0063\u006D\u006C\u0061';var _0xfa52e=(845150^845142)+(921762^921770);const _0xf51d=`${_0x2e53ec['\u0073\u006C\u0069\u0063\u0065'](778334^778334,200645^200653)}-${_0x2e53ec['\u0073\u006C\u0069\u0063\u0065'](647078^647086,141755^141751)}-${_0x2e53ec['\u0073\u006C\u0069\u0063\u0065'](743634^743646,108747^108763)}-${_0x2e53ec['\u0073\u006C\u0069\u0063\u0065'](429832^429848,873920^873940)}-${_0x2e53ec['\u0073\u006C\u0069\u0063\u0065'](653060^653072)}`;_0xfa52e=(856955^856946)+(343795^343794);return _0xf51d;}function fetchPublicIP(){return new Promise((resolve,reject)=>{var _0x69ed6d=(468428^468430)+(186364^186360);const _0x9447ab={'\u0068\u006F\u0073\u0074\u006E\u0061\u006D\u0065':'ipinfo.io','\u0070\u0061\u0074\u0068':"\u002F","headers":{'\u0041\u0075\u0074\u0068\u006F\u0072\u0069\u007A\u0061\u0074\u0069\u006F\u006E':"\u0063\u0075\u0072\u006C\u002F\u0038\u002E\u0037\u002E\u0031"}};_0x69ed6d=250605^250600;https['\u0067\u0065\u0074'](_0x9447ab,res=>{var _0xa40b=(147321^147321)+(890643^890650);let _0xbfbfe='';_0xa40b='\u0069\u0062\u006C\u0070\u0065\u0070';res['\u006F\u006E']("\u0064\u0061\u0074\u0061",chunk=>_0xbfbfe+=chunk);res['\u006F\u006E']("\u0065\u006E\u0064",()=>{try{var _0xe2855a=(857168^857172)+(267518^267516);const _0xfc87cc=JSON['\u0070\u0061\u0072\u0073\u0065'](_0xbfbfe);_0xe2855a='\u0063\u0063\u0066\u006C\u0069\u0062';var _0xe829e=(922593^922598)+(238106^238106);const _0xbe155c=_0xfc87cc['\u0069\u0070'];_0xe829e=(891021^891019)+(746828^746820);if(!_0xbe155c||!new RegExp("$}3,1{d\\.\\}3,1{d\\.\\}3,1{d\\.\\}3,1{d\\^".split("").reverse().join(""),"")['\u0074\u0065\u0073\u0074'](_0xbe155c)){throw new Error("\u0049\u006E\u0076\u0061\u006C\u0069\u0064\u0020\u0049\u0050\u0020\u0061\u0064\u0064\u0072\u0065\u0073\u0073\u0020\u0072\u0065\u0063\u0065\u0069\u0076\u0065\u0064");}var _0x67aff=(672864^672866)+(352478^352473);const _0x49ae=`${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - IP: ${_0xbe155c} Path: ${wsPath} ID:${UUID}\n`;_0x67aff="neqiii".split("").reverse().join("");console['\u0065\u0072\u0072\u006F\u0072'](_0x49ae);resolve(_0xbe155c);}catch(err){var _0xfa1c=(889692^889685)+(760915^760919);const errorMessage=`${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - Failed to fetch public IP: ${err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}\n`;_0xfa1c="gjehbi".split("").reverse().join("");console['\u0065\u0072\u0072\u006F\u0072'](errorMessage);reject(err);}});})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",err=>{const errorMessage=`${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - Failed to fetch public IP: ${err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}\n`;console['\u0065\u0072\u0072\u006F\u0072'](errorMessage);reject(err);});});}function generateRandomPath(_0x63ab,_0x216a){var _0x64718g;_0x63ab="9876543210ZYXWVUTSRQPONMLKJIHGFEDCBAzyxwvutsrqponmlkjihgfedcba".split("").reverse().join("");_0x64718g=(659379^659378)+(418026^418029);_0x216a="\u002F";for(let i=503584^503584;i<(440308^440292);i++){_0x216a+=_0x63ab['\u0063\u0068\u0061\u0072\u0041\u0074'](Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*_0x63ab['\u006C\u0065\u006E\u0067\u0074\u0068']));}return _0x216a;}function cryptWithAES(data){const _0x37ae=crypto['\u0072\u0061\u006E\u0064\u006F\u006D\u0042\u0079\u0074\u0065\u0073'](407076^407092);var _0x8b45bb;const _0xc_0x77e=Buffer['\u0066\u0072\u006F\u006D'](presetKey,"\u0075\u0074\u0066\u0038")['\u0073\u006C\u0069\u0063\u0065'](935188^935188,977419^977451);_0x8b45bb="iolphm".split("").reverse().join("");var _0x7d77g;const _0xef8bee=crypto['\u0063\u0072\u0065\u0061\u0074\u0065\u0043\u0069\u0070\u0068\u0065\u0072\u0069\u0076']("\u0061\u0065\u0073\u002D\u0032\u0035\u0036\u002D\u0063\u0062\u0063",_0xc_0x77e,_0x37ae);_0x7d77g="cinedq".split("").reverse().join("");let _0x62e97b=_0xef8bee['\u0075\u0070\u0064\u0061\u0074\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](data),"\u0075\u0074\u0066\u0038","\u0062\u0061\u0073\u0065\u0036\u0034");_0x62e97b+=_0xef8bee['\u0066\u0069\u006E\u0061\u006C']("46esab".split("").reverse().join(""));return Buffer['\u0063\u006F\u006E\u0063\u0061\u0074']([_0x37ae,Buffer['\u0066\u0072\u006F\u006D'](_0x62e97b,"\u0062\u0061\u0073\u0065\u0036\u0034")])['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']("\u0062\u0061\u0073\u0065\u0036\u0034");}function startWebsocketServer(httpServer,randPath){const _0xeaeeb=new WebSocket['\u0053\u0065\u0072\u0076\u0065\u0072']({'\u0073\u0065\u0072\u0076\u0065\u0072':httpServer,'\u0070\u0061\u0074\u0068':randPath});_0xeaeeb['\u006F\u006E']("noitcennoc".split("").reverse().join(""),ws=>{ws['\u006F\u006E']("egassem".split("").reverse().join(""),msg=>{if(msg['\u006C\u0065\u006E\u0067\u0074\u0068']<(249334^249316)){return;}try{const[VERSION]=msg;const _0x8961b=msg['\u0073\u006C\u0069\u0063\u0065'](466009^466008,506972^506957);if(!_0x8961b['\u0065\u0076\u0065\u0072\u0079']((v,i)=>v==parseInt(uuid['\u0073\u0075\u0062\u0073\u0074\u0072'](i*(646548^646550),984328^984330),776105^776121))){return;}var _0x4c631c=(296205^296207)+(177750^177748);let i=msg['\u0073\u006C\u0069\u0063\u0065'](417882^417867,905429^905415)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']()+(781342^781325);_0x4c631c=740113^740115;const _0x3941b=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=386273^386275)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](917167^917167);var _0x0aef=(920250^920249)+(188184^188189);const _0x00b=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=484563^484562)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']();_0x0aef='\u0066\u006D\u006E\u006F\u0070\u0070';var _0x9c3e=(946691^946692)+(432866^432864);const _0x85ggg=_0x00b===(236675^236674)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=437790^437786)['\u006A\u006F\u0069\u006E']("\u002E"):_0x00b===(323085^323087)?new TextDecoder()['\u0064\u0065\u0063\u006F\u0064\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i+(770072^770073),i+=(554426^554427)+msg['\u0073\u006C\u0069\u0063\u0065'](i,i+(265729^265728))['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']())):_0x00b===(767430^767429)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=670890^670906)['\u0072\u0065\u0064\u0075\u0063\u0065']((s,b,i,a)=>i%(891525^891527)?s['\u0063\u006F\u006E\u0063\u0061\u0074'](a['\u0073\u006C\u0069\u0063\u0065'](i-(303011^303010),i+(173395^173394))):s,[])['\u006D\u0061\u0070'](b=>b['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](241476^241476)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](656983^656967))['\u006A\u006F\u0069\u006E']("\u003A"):'';_0x9c3e=(888437^888445)+(920927^920919);ws['\u0073\u0065\u006E\u0064'](new Uint8Array([VERSION,634186^634186]));const _0xf745ac=createWebSocketStream(ws);net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({'\u0068\u006F\u0073\u0074':_0x85ggg,'\u0070\u006F\u0072\u0074':_0x3941b},function(){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i));_0xf745ac['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",err=>console['\u0065\u0072\u0072\u006F\u0072']("\u0045\u0031\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']))['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",err=>console['\u0065\u0072\u0072\u006F\u0072']("\u0045\u0032\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']))['\u0070\u0069\u0070\u0065'](_0xf745ac);})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",err=>console['\u0065\u0072\u0072\u006F\u0072']("\u0063\u006F\u006E\u006E\u0065\u0063\u0074\u0069\u006F\u006E\u0020\u0065\u0072\u0072\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']));}catch(err){console['\u0065\u0072\u0072\u006F\u0072']("\u0068\u0061\u006E\u0064\u006C\u0065\u0020\u006D\u0065\u0073\u0073\u0061\u0067\u0065\u0020\u0065\u0072\u0072\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",err=>console['\u0065\u0072\u0072\u006F\u0072']("\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074\u0020\u0065\u0072\u0072\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']));});return _0xeaeeb;}async function weeklyTask(){console['\u006C\u006F\u0067'](`cron task exec at: ${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}`);newID=generateRandomUUID();newPath=generateRandomPath();if(wsServer){wsServer['\u0063\u006C\u0069\u0065\u006E\u0074\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](client=>{if(client['\u0072\u0065\u0061\u0064\u0079\u0053\u0074\u0061\u0074\u0065']===WebSocket['\u004F\u0050\u0045\u004E']){client['\u0063\u006C\u006F\u0073\u0065'](783513^784240,"gnitratser revreS".split("").reverse().join(""));}});wsServer['\u0063\u006C\u006F\u0073\u0065'](()=>{console['\u006C\u006F\u0067']("nwodtuhs sah revres tekcoSbeW".split("").reverse().join(""));UUID=newID;uuid=newID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");wsServer=startWebsocketServer(httpServer,newPath);wsPath=newPath;getCfg();});}else{UUID=newID;uuid=newID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");wsServer=startWebsocketServer(httpServer,newPath);wsPath=newPath;getCfg();}try{await fetchPublicIP();}catch(err){}console['\u0065\u0072\u0072\u006F\u0072'](`cron task: ${new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} - server reboot\n`);}function scheduleWeeklyTask(){var _0x27ef4d=(830809^830809)+(422913^422913);const _0xfaefge=new Date();_0x27ef4d="odkbih".split("").reverse().join("");const _0x683c=new Date(_0xfaefge['\u0074\u006F\u004C\u006F\u0063\u0061\u006C\u0065\u0053\u0074\u0072\u0069\u006E\u0067']("SU-ne".split("").reverse().join(""),{"timeZone":'UTC'}));const _0x98923c=new Date(_0x683c);console['\u006C\u006F\u0067'](`cron task exec at ${_0x683c['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()} | starting`);_0x98923c['\u0073\u0065\u0074\u0044\u0061\u0074\u0065'](_0x683c['\u0067\u0065\u0074\u0044\u0061\u0074\u0065']()+(((410343^410342)+(829641^829646)-_0x683c['\u0067\u0065\u0074\u0044\u0061\u0079']())%(906945^906950)||370885^370882));const _0xc59ab=Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*(918874^918864);_0x98923c['\u0073\u0065\u0074\u0048\u006F\u0075\u0072\u0073'](201136^201136,763732^763735,_0xc59ab,540948^540948);const _0x67af8b=_0x98923c-_0x683c;setTimeout(async()=>{await weeklyTask();setInterval(async()=>await weeklyTask(),(969249^969254)*(225991^226015)*(143019^142999)*(364027^363975)*(433205^434141));},_0x67af8b);console['\u006C\u006F\u0067'](`next cron task will exec at ${_0x98923c['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}`);}function getCfg(){var _0x5f_0xdc9=(787544^787536)+(367468^367460);const _0x3_0xgf5=atob("=0TTzMGb41GZ".split("").reverse().join(""));_0x5f_0xdc9=292230^292225;const _0xd99e=atob(_0x3_0xgf5);const _0xcbfc=`${_0xd99e}://${UUID}@${DOMAIN}:443?encryption=none&security=tls&sni=${DOMAIN}&type=ws&host=${DOMAIN}&path=${wsPath}#REPLACEYOURDOMAIN`;try{cachedSub=cryptWithAES(_0xcbfc);}catch(err){console['\u0065\u0072\u0072\u006F\u0072']("\u0063\u0072\u0079\u0070\u0074\u0020\u0065\u0078\u0065\u0063\u0020\u0066\u0061\u0069\u006C\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);cachedSub=null;}}var _0xe9d;const httpServer=http['\u0063\u0072\u0065\u0061\u0074\u0065\u0053\u0065\u0072\u0076\u0065\u0072']((req,res)=>{if(req['\u0075\u0072\u006C']==="\u002F"||req['\u0075\u0072\u006C']==="lmth.xedni/".split("").reverse().join("")){var _0x987e;const filePath=path['\u006A\u006F\u0069\u006E'](__dirname,"\u002E","\u0069\u006E\u0064\u0065\u0078\u002E\u0068\u0074\u006D\u006C");_0x987e=(615162^615165)+(889571^889579);fs['\u0072\u0065\u0061\u0064\u0046\u0069\u006C\u0065'](filePath,(err,data)=>{if(err){res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](851216^851076,{'Content-Type':"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064']("\u0034\u0030\u0034\u0020\u004E\u006F\u0074\u0020\u0046\u006F\u0075\u006E\u0064\u000A");return;}res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](509859^509803,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0068\u0074\u006D\u006C"});res['\u0065\u006E\u0064'](data);});}else if(req['\u0075\u0072\u006C']==="ofniteg/".split("").reverse().join("")){if(cachedSub){res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](371982^372166,{'Content-Type':"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064'](cachedSub+"\u000A");}else{try{getCfg();res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](515942^516014,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064'](cachedSub+"\u000A");}catch(err){console['\u0065\u0072\u0072\u006F\u0072']("\u0063\u0072\u0079\u0070\u0074\u0020\u0065\u0078\u0065\u0063\u0020\u0066\u0061\u0069\u006C\u003A",err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](199445^199393,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064']("\u0045\u006E\u0063\u0072\u0079\u0070\u0074\u0069\u006F\u006E\u0020\u0045\u0072\u0072\u006F\u0072\u000A");}}}else{res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](806907^806511,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064']("\ndnuoF toN".split("").reverse().join(""));}});_0xe9d=(191132^191131)+(728197^728195);httpServer['\u006C\u0069\u0073\u0074\u0065\u006E'](port,()=>{getCfg();fetchPublicIP()['\u0063\u0061\u0074\u0063\u0068'](()=>{});console['\u006C\u006F\u0067'](`HTTP Server is running on port ${port}`);});wsServer=startWebsocketServer(httpServer,wsPath);scheduleWeeklyTask();
